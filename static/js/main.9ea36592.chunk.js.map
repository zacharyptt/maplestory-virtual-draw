{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["darkTheme","createTheme","palette","mode","data8614","App","useState","drawData","setDrawData","formatData","data","trim","split","map","value","name","chance","parseFloat","slice","resultList","setResultList","nums","setNums","text","setText","_bottom","useRef","_scroll","useEffect","maxScrollTop","current","scrollHeight","clientHeight","scrollTop","average","useMemo","length","reduce","previousValue","currentValue","parseInt","ThemeProvider","theme","CssBaseline","Container","sx","marginTop","Link","target","rel","href","Box","Button","onClick","display","flexDirection","xs","sm","flex","TextField","label","multiline","maxRows","onChange","event","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","count","mx","alignItems","test","i","resultIndex","random","Math","thisData","draw","produce","draft","ReactGA","category","action","Typography","state","height","overflow","px","ref","index","marginBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wYAqBMA,EAAYC,YAAY,CAC1BC,QAAS,CACLC,KAAM,UAGRC,EAAQ,siFAmQCC,MA9Mf,WAAgB,IAAD,EACqBC,mBAAS,IAD9B,mBACJC,EADI,KACMC,EADN,KAELC,EAAa,SAACC,GAChB,OAAOA,EACFC,OACAC,MAAM,MACNC,KAAI,SAACC,GAAW,IAAD,EACWA,EAAMF,MAAM,MADvB,mBACLG,EADK,KACCC,EADD,KAEZ,MAAO,CAACD,OAAMC,OAAQC,WAAWD,EAAOE,MAAM,GAAI,SARnD,EAuByBZ,mBAAS,IAvBlC,mBAuBJa,EAvBI,KAuBQC,EAvBR,OAwBad,mBAAS,GAxBtB,mBAwBJe,EAxBI,KAwBEC,EAxBF,OAyBahB,mBAAS,IAzBtB,mBAyBJiB,EAzBI,KAyBEC,EAzBF,KA0BLC,EAAUC,mBACVC,EAAUD,mBAEhBE,qBAAU,WAEN,IAEMC,EAFeF,EAAQG,QAAQC,aACtBJ,EAAQG,QAAQE,aAE/BL,EAAQG,QAAQG,UAAYJ,EAAe,EAAIA,EAAe,IAC/D,CAACV,IACJS,qBAAU,WAENpB,EAAYC,EAAWL,MACxB,IACH,IAAM8B,EAAUC,mBAAQ,WACpB,OAA0B,IAAtBhB,EAAWiB,OACJ,EAECjB,EAAWkB,QAAO,SAACC,EAAeC,GAAhB,OAAiCD,EAAgBE,SAASD,KAAe,GAC1FpB,EAAWiB,SACzB,CAACjB,IACJ,OACI,cAACsB,EAAA,EAAD,CAAeC,MAAO1C,EAAtB,SACI,gCACI,cAAC2C,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAWC,GAAI,CAACC,UAAW,IAA3B,UACI,cAACC,EAAA,EAAD,CACIC,OAAO,SACPC,IAAI,WACJC,KAAK,kFAHT,wDAOA,eAACC,EAAA,EAAD,CAAKN,GAAI,CAACC,UAAW,GAArB,UACI,cAACM,EAAA,EAAD,CACIC,QAAS,WACL7C,EAAYC,EAAWL,IACvBoB,EAAQ,IACRJ,EAAc,KAJtB,4CASA,cAACgC,EAAA,EAAD,CACIC,QAAS,WACL7C,EAAYC,EAlF3B,2FAmFee,EAAQ,IACRJ,EAAc,KAJtB,iEAUJ,eAAC+B,EAAA,EAAD,CACIN,GAAI,CACAS,QAAS,OACTC,cAAe,CACXC,GAAI,iBACJC,GAAI,QALhB,UASI,eAACN,EAAA,EAAD,CAAKN,GAAI,CAACS,QAAS,OAAQC,cAAe,SAAUG,KAAM,GAA1D,UACI,eAACP,EAAA,EAAD,CACIN,GAAI,CACAS,QAAS,OACTR,UAAW,GAHnB,UAMI,cAACa,EAAA,EAAD,CACIC,MAAM,uCACNC,WAAS,EACTC,QAAS,EACThD,MAAOS,EACPwC,SAAU,SAACC,GACPxC,EAAQwC,EAAMhB,OAAOlC,UAG7B,cAACsC,EAAA,EAAD,CACIC,QAAS,WACQ,KAAT9B,IACAf,EAAYC,EAAWc,IACvBC,EAAQ,IACRJ,EAAc,MAL1B,6BAYJ,cAAC6C,EAAA,EAAD,CAAgBC,UAAWC,IAAOtB,GAAI,CAACC,UAAW,GAAlD,SACI,eAACsB,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,2BACA,cAACA,EAAA,EAAD,CAAWC,MAAM,QAAjB,0BACA,cAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,+BAGR,cAACC,EAAA,EAAD,UACKlE,EAASM,KAAI,gBAAEE,EAAF,EAAEA,KAAMC,EAAR,EAAQA,OAAQ0D,EAAhB,EAAgBA,MAAhB,OACV,eAACJ,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,UAAYxD,IACZ,eAACwD,EAAA,EAAD,CAAWC,MAAM,QAAjB,UAA0BxD,EAA1B,OACA,cAACuD,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,MAHf3D,gBAUnC,cAACoC,EAAA,EAAD,CAAKN,GAAI,CAAC8B,GAAI,KACd,eAACxB,EAAA,EAAD,CAAKN,GAAI,CAACS,QAAS,OAAQC,cAAe,SAAUG,KAAM,GAA1D,UACI,eAACP,EAAA,EAAD,CAAKN,GAAI,CAACS,QAAS,OAAQsB,WAAY,SAAU9B,UAAW,GAA5D,UACI,cAACa,EAAA,EAAD,CACIC,MAAM,2BACN9C,MAAOO,EACP0C,SAAU,SAACC,GACP,IAAMlD,EAAQkD,EAAMhB,OAAOlC,OACvB,aAAa+D,KAAK/D,IAAoB,KAAVA,IAC5BQ,EAAQR,MAIpB,cAACsC,EAAA,EAAD,CACIC,QAAS,WACL,GAAwB,IAApB9C,EAAS6B,OAAb,CAGA,IAJW,eAIF0C,GACL,IAAMC,EAjJjC,WAGT,IAFA,IAAMC,EAASC,KAAKD,SAChBN,EAAQ,EACHI,EAAI,EAAGA,EAAIvE,EAAS6B,OAAQ0C,IAAK,CACtC,IAAMI,EAAW3E,EAASuE,GAC1B,GAAIE,GAAUN,GAASM,GAAUN,EAAQQ,EAASlE,OAAS,IACvD,OAAO8D,EAEPJ,GAAgBQ,EAASlE,OAAS,KAyIcmE,GACpB/D,GAAc,SAACN,GAAD,4BAAeA,GAAf,CAAsBP,EAASwE,GAAahE,UAC1DP,EACI4E,aAAQ,SAACC,GACLA,EAAMN,GAAaL,OAASW,EAAMN,GAAaL,OAAS,GAAK,OALhEI,EAAI,EAAGA,EAAIzD,EAAMyD,IAAM,IAShCQ,IAAQtB,MAAM,CAACuB,SAAU,OAAQC,OAAQ,WAdjD,uBAoBJ,eAACrC,EAAA,EAAD,CAAKN,GAAI,CAACU,cAAe,OAAzB,UACI,eAACkC,EAAA,EAAD,gCAAgBtE,EAAWiB,YACxBF,GAAW,eAACuD,EAAA,EAAD,gCAAgBvD,KAC9B,cAACkB,EAAA,EAAD,CACIC,QAAS,WACLjC,EAAc,IACdZ,GAAY,SAACkF,GAAD,OAAWA,EAAM7E,KAAI,kBAAqB,CAACE,KAAtB,EAAEA,KAA0BC,OAA5B,EAAQA,eAHjD,6BASJ,eAACmD,EAAA,EAAD,CACItB,GAAI,CACAS,QAAS,OACTC,cAAe,SACfoC,OAAQ,IACRC,SAAU,OACVC,GAAI,GAERC,IAAKnE,EART,UAUKR,EAAWD,OAAO,KAAKL,KAAI,SAACC,EAAOiF,GAAR,OACxB,cAAC5C,EAAA,EAAD,CAAiBN,GAAI,CAACmD,aAAc,GAApC,SACKlF,GADKiF,MAId,qBAAKD,IAAKrE,sBCxQ3BwE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.9ea36592.chunk.js","sourcesContent":["import TextField from '@mui/material/TextField';\nimport React, {useEffect, useMemo, useRef, useState} from 'react';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\nimport produce from 'immer';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Link from '@mui/material/Link';\nimport {createTheme, ThemeProvider} from '@mui/material/styles';\nimport ReactGA from 'react-ga';\n// ReactGA.initialize('G-68SES6VVEW');\n// console.log(window.location.pathname + window.location.search);\n// ReactGA.pageview(window.location.pathname + window.location.search);\nconst darkTheme = createTheme({\n    palette: {\n        mode: 'dark',\n    },\n});\nconst data8614 = `工匠方塊\t20.00%\n名匠方塊\t2.50%\n完美烙印的印章\t5.00%\n白金鎚子\t5.00%\n卷軸20格欄位背包\t4.00%\n性向成長密藥\t6.00%\n選擇欄8格擴充券\t5.50%\n特殊名譽勳章\t5.00%\n200靈魂卷軸100%\t3.00%\n純白的卷軸100%\t5.00%\n恢復卡交換券\t3.00%\n回真卷軸100%\t4.00%\nV單手武器攻擊力卷軸\t2.00%\nV單手武器魔力卷軸\t2.00%\nV雙手武器攻擊力卷軸\t2.00%\nV雙手武器魔力卷軸\t2.00%\nV防具攻擊力卷軸\t2.00%\nV防具魔力卷軸\t2.00%\nV裝飾品攻擊力卷軸\t2.00%\nV裝飾品魔力卷軸\t2.00%\nV寵物裝備攻擊力卷軸\t2.00%\nV寵物裝備魔力卷軸\t2.00%\n究極黑暗雙手武器攻擊力卷軸\t0.70%\n究極黑暗雙手武器魔力卷軸\t0.70%\n究極的黑暗單手武器攻擊力卷軸\t0.70%\n究極的黑暗單手武器魔力卷軸\t0.70%\n究極的黑暗飾品攻擊力卷軸\t0.70%\n究極的黑暗飾品魔力卷軸\t0.70%\n究極的黑暗防具攻擊力卷軸\t0.70%\n究極的黑暗防具魔力卷軸\t0.70%\n究極的黑暗寵物裝備攻擊力卷軸\t0.70%\n究極的黑暗寵物裝備魔力卷軸\t0.70%\n命運單手武器攻擊力卷軸\t0.50%\n命運單手武器魔力卷軸\t0.50%\n命運雙手武器攻擊力卷軸\t0.50%\n命運雙手武器魔力卷軸\t0.50%\n命運飾品攻擊力卷軸\t0.50%\n命運飾品魔力卷軸\t0.50%\n命運防具攻擊力卷軸\t0.50%\n命運防具魔力卷軸\t0.50%\n命運寵物裝備攻擊力卷軸\t0.50%\n命運寵物裝備魔力卷軸\t0.50%`;\nconst dataDestiny = `\n+12\t4%\n+13\t6%\n+14\t31%\n+15\t30%\n+16\t14%\n+17\t7%\n+18\t5%\n+19\t2%\n+20\t1%\n`;\nfunction App() {\n    const [drawData, setDrawData] = useState([]);\n    const formatData = (data) => {\n        return data\n            .trim()\n            .split('\\n')\n            .map((value) => {\n                const [name, chance] = value.split('\\t');\n                return {name, chance: parseFloat(chance.slice(0, -1))};\n            });\n    };\n    const draw = () => {\n        const random = Math.random();\n        let count = 0;\n        for (let i = 0; i < drawData.length; i++) {\n            const thisData = drawData[i];\n            if (random >= count && random <= count + thisData.chance / 100) {\n                return i;\n            } else {\n                count = count + thisData.chance / 100;\n            }\n        }\n    };\n    const [resultList, setResultList] = useState([]);\n    const [nums, setNums] = useState(1);\n    const [text, setText] = useState('');\n    const _bottom = useRef();\n    const _scroll = useRef();\n\n    useEffect(() => {\n        // _bottom.current.scrollIntoView({behavior: 'smooth'});\n        const scrollHeight = _scroll.current.scrollHeight;\n        const height = _scroll.current.clientHeight;\n        const maxScrollTop = scrollHeight - height;\n        _scroll.current.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\n    }, [resultList]);\n    useEffect(() => {\n        // setDrawData(formatData(dataDestiny));\n        setDrawData(formatData(data8614));\n    }, []);\n    const average = useMemo(() => {\n        if (resultList.length === 0) {\n            return 0;\n        }\n        const sum = resultList.reduce((previousValue, currentValue) => previousValue + parseInt(currentValue), 0);\n        return sum / resultList.length;\n    }, [resultList]);\n    return (\n        <ThemeProvider theme={darkTheme}>\n            <div>\n                <CssBaseline />\n                <Container sx={{marginTop: 10}}>\n                    <Link\n                        target=\"_blank\"\n                        rel=\"noopener\"\n                        href=\"https://tw.beanfun.com/beanfuncommon/EventAD_Mobile/EventAD.aspx?EventADID=5325\"\n                    >\n                        楓之谷機率連結\n                    </Link>\n                    <Box sx={{marginTop: 2}}>\n                        <Button\n                            onClick={() => {\n                                setDrawData(formatData(data8614));\n                                setText('');\n                                setResultList([]);\n                            }}\n                        >\n                            模擬抽畫框\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                setDrawData(formatData(dataDestiny));\n                                setText('');\n                                setResultList([]);\n                            }}\n                        >\n                            模擬衝命運武器卷\n                        </Button>\n                    </Box>\n                    <Box\n                        sx={{\n                            display: 'flex',\n                            flexDirection: {\n                                xs: 'column-reverse',\n                                sm: 'row',\n                            },\n                        }}\n                    >\n                        <Box sx={{display: 'flex', flexDirection: 'column', flex: 1}}>\n                            <Box\n                                sx={{\n                                    display: 'flex',\n                                    marginTop: 1,\n                                }}\n                            >\n                                <TextField\n                                    label=\"輸入抽獎資料\"\n                                    multiline\n                                    maxRows={4}\n                                    value={text}\n                                    onChange={(event) => {\n                                        setText(event.target.value);\n                                    }}\n                                />\n                                <Button\n                                    onClick={() => {\n                                        if (text !== '') {\n                                            setDrawData(formatData(text));\n                                            setText('');\n                                            setResultList([]);\n                                        }\n                                    }}\n                                >\n                                    設定\n                                </Button>\n                            </Box>\n                            <TableContainer component={Paper} sx={{marginTop: 2}}>\n                                <Table>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>獎項</TableCell>\n                                            <TableCell align=\"right\">機率</TableCell>\n                                            <TableCell align=\"right\">次數</TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {drawData.map(({name, chance, count}) => (\n                                            <TableRow key={name}>\n                                                <TableCell>{name}</TableCell>\n                                                <TableCell align=\"right\">{chance}%</TableCell>\n                                                <TableCell align=\"right\">{count}</TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Box>\n                        <Box sx={{mx: 2}} />\n                        <Box sx={{display: 'flex', flexDirection: 'column', flex: 1}}>\n                            <Box sx={{display: 'flex', alignItems: 'center', marginTop: 1}}>\n                                <TextField\n                                    label=\"抽取次數\"\n                                    value={nums}\n                                    onChange={(event) => {\n                                        const value = event.target.value;\n                                        if (/^[1-9]\\d*$/.test(value) || value === '') {\n                                            setNums(value);\n                                        }\n                                    }}\n                                />\n                                <Button\n                                    onClick={() => {\n                                        if (drawData.length === 0) {\n                                            return;\n                                        }\n                                        for (let i = 0; i < nums; i++) {\n                                            const resultIndex = draw();\n                                            setResultList((value) => [...value, drawData[resultIndex].name]);\n                                            setDrawData(\n                                                produce((draft) => {\n                                                    draft[resultIndex].count = (draft[resultIndex].count || 0) + 1;\n                                                })\n                                            );\n                                        }\n                                        ReactGA.event({category: 'User', action: 'draw'});\n                                    }}\n                                >\n                                    抽\n                                </Button>\n                            </Box>\n                            <Box sx={{flexDirection: 'row'}}>\n                                <Typography>總數：{resultList.length}</Typography>\n                                {!!average && <Typography>平均：{average}</Typography>}\n                                <Button\n                                    onClick={() => {\n                                        setResultList([]);\n                                        setDrawData((state) => state.map(({name, chance}) => ({name, chance})));\n                                    }}\n                                >\n                                    清除\n                                </Button>\n                            </Box>\n                            <Paper\n                                sx={{\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    height: 500,\n                                    overflow: 'auto',\n                                    px: 5,\n                                }}\n                                ref={_scroll}\n                            >\n                                {resultList.slice(-100).map((value, index) => (\n                                    <Box key={index} sx={{marginBottom: 1}}>\n                                        {value}\n                                    </Box>\n                                ))}\n                                <div ref={_bottom}></div>\n                            </Paper>\n                        </Box>\n                    </Box>\n                </Container>\n            </div>\n        </ThemeProvider>\n    );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}