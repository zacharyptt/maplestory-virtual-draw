{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["darkTheme","createTheme","palette","mode","App","useState","drawData","setDrawData","formatData","data","split","map","value","name","chance","parseFloat","slice","resultList","setResultList","nums","setNums","text","setText","_bottom","useRef","_scroll","useEffect","maxScrollTop","current","scrollHeight","clientHeight","scrollTop","ThemeProvider","theme","CssBaseline","Container","sx","marginTop","Box","display","flexDirection","flex","marginRight","TextField","label","multiline","maxRows","onChange","event","target","Button","onClick","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","count","alignItems","length","i","resultIndex","random","Math","thisData","draw","produce","draft","Typography","state","height","overflow","px","ref","index","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07e19226.chunk.js","sourcesContent":["import TextField from '@mui/material/TextField';\nimport React, {useEffect, useMemo, useRef, useState} from 'react';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Container from '@mui/material/Container';\nimport Typography from '@mui/material/Typography';\nimport produce from 'immer';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport {createTheme, ThemeProvider} from '@mui/material/styles';\nconst darkTheme = createTheme({\n    palette: {\n        mode: 'dark',\n    },\n});\nfunction App() {\n    const [drawData, setDrawData] = useState([]);\n    const formatData = (data) => {\n        return data.split('\\n').map((value) => {\n            const [name, chance] = value.split('\\t');\n            return {name, chance: parseFloat(chance.slice(0, -1))};\n        });\n    };\n    const draw = () => {\n        const random = Math.random();\n        let count = 0;\n        for (let i = 0; i < drawData.length; i++) {\n            const thisData = drawData[i];\n            if (random >= count && random <= count + thisData.chance / 100) {\n                return i;\n            } else {\n                count = count + thisData.chance / 100;\n            }\n        }\n    };\n    const [resultList, setResultList] = useState([]);\n    const [nums, setNums] = useState(1);\n    const [text, setText] = useState('');\n    const _bottom = useRef();\n    const _scroll = useRef();\n\n    useEffect(() => {\n        // _bottom.current.scrollIntoView({behavior: 'smooth'});\n        const scrollHeight = _scroll.current.scrollHeight;\n        const height = _scroll.current.clientHeight;\n        const maxScrollTop = scrollHeight - height;\n        _scroll.current.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\n    }, [resultList]);\n    return (\n        <ThemeProvider theme={darkTheme}>\n            <div>\n                <CssBaseline />\n                <Container sx={{marginTop: 10}}>\n                    <Box sx={{display: 'flex'}}>\n                        <Box sx={{display: 'flex', flexDirection: 'column', flex: 1, marginRight: 10}}>\n                            <Box sx={{display: 'flex'}}>\n                                <TextField\n                                    label=\"輸入抽獎資料\"\n                                    multiline\n                                    maxRows={4}\n                                    value={text}\n                                    onChange={(event) => {\n                                        setText(event.target.value);\n                                    }}\n                                />\n                                <Button\n                                    onClick={() => {\n                                        if (text !== '') {\n                                            setDrawData(formatData(text));\n                                            setText('');\n                                            setResultList([]);\n                                        }\n                                    }}\n                                >\n                                    設定\n                                </Button>\n                                <Button\n                                    onClick={() => {\n                                        setDrawData(\n                                            formatData(`工匠方塊\t20.00%\n                                    名匠方塊\t2.50%\n                                    完美烙印的印章\t5.00%\n                                    白金鎚子\t5.00%\n                                    卷軸20格欄位背包\t4.00%\n                                    性向成長密藥\t6.00%\n                                    選擇欄8格擴充券\t5.50%\n                                    特殊名譽勳章\t5.00%\n                                    200靈魂卷軸100%\t3.00%\n                                    純白的卷軸100%\t5.00%\n                                    恢復卡交換券\t3.00%\n                                    回真卷軸100%\t4.00%\n                                    V單手武器攻擊力卷軸\t2.00%\n                                    V單手武器魔力卷軸\t2.00%\n                                    V雙手武器攻擊力卷軸\t2.00%\n                                    V雙手武器魔力卷軸\t2.00%\n                                    V防具攻擊力卷軸\t2.00%\n                                    V防具魔力卷軸\t2.00%\n                                    V裝飾品攻擊力卷軸\t2.00%\n                                    V裝飾品魔力卷軸\t2.00%\n                                    V寵物裝備攻擊力卷軸\t2.00%\n                                    V寵物裝備魔力卷軸\t2.00%\n                                    究極黑暗雙手武器攻擊力卷軸\t0.70%\n                                    究極黑暗雙手武器魔力卷軸\t0.70%\n                                    究極的黑暗單手武器攻擊力卷軸\t0.70%\n                                    究極的黑暗單手武器魔力卷軸\t0.70%\n                                    究極的黑暗飾品攻擊力卷軸\t0.70%\n                                    究極的黑暗飾品魔力卷軸\t0.70%\n                                    究極的黑暗防具攻擊力卷軸\t0.70%\n                                    究極的黑暗防具魔力卷軸\t0.70%\n                                    究極的黑暗寵物裝備攻擊力卷軸\t0.70%\n                                    究極的黑暗寵物裝備魔力卷軸\t0.70%\n                                    命運單手武器攻擊力卷軸\t0.50%\n                                    命運單手武器魔力卷軸\t0.50%\n                                    命運雙手武器攻擊力卷軸\t0.50%\n                                    命運雙手武器魔力卷軸\t0.50%\n                                    命運飾品攻擊力卷軸\t0.50%\n                                    命運飾品魔力卷軸\t0.50%\n                                    命運防具攻擊力卷軸\t0.50%\n                                    命運防具魔力卷軸\t0.50%\n                                    命運寵物裝備攻擊力卷軸\t0.50%\n                                    命運寵物裝備魔力卷軸\t0.50%`)\n                                        );\n                                        setText('');\n                                        setResultList([]);\n                                    }}\n                                >\n                                    設定為畫框資料\n                                </Button>\n                            </Box>\n                            <TableContainer component={Paper} sx={{marginTop: 2}}>\n                                <Table>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>獎項</TableCell>\n                                            <TableCell align=\"right\">機率</TableCell>\n                                            <TableCell align=\"right\">次數</TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {drawData.map(({name, chance, count}) => (\n                                            <TableRow key={name}>\n                                                <TableCell>{name}</TableCell>\n                                                <TableCell align=\"right\">{chance}%</TableCell>\n                                                <TableCell align=\"right\">{count}</TableCell>\n                                            </TableRow>\n                                        ))}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Box>\n                        <Box sx={{display: 'flex', flexDirection: 'column', flex: 1}}>\n                            <Box sx={{display: 'flex', alignItems: 'center'}}>\n                                <TextField\n                                    label=\"抽取次數\"\n                                    value={nums}\n                                    onChange={(event) => setNums(event.target.value)}\n                                />\n                                <Button\n                                    onClick={() => {\n                                        if (drawData.length === 0) {\n                                            return;\n                                        }\n                                        for (let i = 0; i < nums; i++) {\n                                            const resultIndex = draw();\n                                            setResultList((value) => [...value, drawData[resultIndex].name]);\n                                            setDrawData(\n                                                produce((draft) => {\n                                                    draft[resultIndex].count = (draft[resultIndex].count || 0) + 1;\n                                                })\n                                            );\n                                        }\n                                    }}\n                                >\n                                    抽\n                                </Button>\n                            </Box>\n                            <Box sx={{flexDirection: 'row'}}>\n                                <Typography>總數：{resultList.length}</Typography>\n                                <Button\n                                    onClick={() => {\n                                        setResultList([]);\n                                        setDrawData((state) => state.map(({name, chance}) => ({name, chance})));\n                                    }}\n                                >\n                                    清除\n                                </Button>\n                            </Box>\n                            <Paper\n                                sx={{\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    height: 500,\n                                    overflow: 'auto',\n                                    px: 5,\n                                }}\n                                ref={_scroll}\n                            >\n                                {resultList.map((value, index) => (\n                                    <div key={index}>{value}</div>\n                                ))}\n                                <div ref={_bottom}></div>\n                            </Paper>\n                        </Box>\n                    </Box>\n                </Container>\n            </div>\n        </ThemeProvider>\n    );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}